/* ==========================================================================================

   ,ad8888ba,    ,ad8888ba,    88        88  888b      88  
  d8"'    `"8b  d8"'    `"8b   88        88  8888b     88  
 d8'           d8'        `8b  88        88  88 `8b    88  
 88            88          88  88aaaaaaaa88  88  `8b   88  
 88            88          88  88""""""""88  88   `8b  88  
 Y8,           Y8,        ,8P  88        88  88    `8b 88  
  Y8a.    .a8P  Y8a.    .a8P   88        88  88     `8888  
   `"Y8888Y"'    `"Y8888Y"'    88        88  88      `888  

 ===========================================================================================
 ===========================================================================================
 =============== BRAND / MARKETING / DIGITAL / PR      =====================================
 ===========================================================================================
 =============== D E N V E R   C O L O R A D O   U S A =====================================
 ===========================================================================================*/
/*  Theme Name: Pena Station Next
/*  Version: 1.0.0
/*  Author: Paul Wood | COHN
/*  Author URI: http://cohnmarketing.com
/*  Description: A WordPress project created by COHN.
/*  Text Domain: penastationnext
/* ========================================================================================== */
/*  Copyright Â© 2019. Pena Station Next All rights reserved.
/* ========================================================================================== */








//- jQuery(document).ready(function() {
//-   (function($){
//-     if (document.getElementById("item__home__slide_2")) {
//-       var sticky = new Waypoint.Sticky({
//-         element: $('#item__home__slide_2')
//-       })
//-       console.log('stick wp 2');
//-     }
//-   })(jQuery);
//- });
//- 



















//-////////////////////////////////////////////////////////////////////////////////
//- SCRIPTS
//-///////////////////////////////////////////////////////////////////////////////

(function($) {

  
  
    jQuery(document).ready(function() {
    
    
      //- var body = document.getElementsByTagName("BODY")[0];
      //- if(!body.classList.contains('global__interactive__parallax') ) {
      //-   if (document.getElementById("progress__bar")) {
      //-     console.log('Start progress__bar...');
      //-     window.addEventListener("scroll", function scrollProgress() {
      //-       let bodyScrollTop = window.pageYOffset;
      //-       let viewportHeight = window.innerHeight;
      //-       //let totalBodyHeight = document.body.clientHeight;
      //-       let totalBodyHeight = document.body.scrollHeight
      //-       let scrollArea = totalBodyHeight - viewportHeight;
      //-       let scrollPercentage = (100 / scrollArea ) * bodyScrollTop;
      //- 
      //- 
      //- 
      //-       let scrollProgressValue = document.querySelector(".scroll-progress-value");
      //-         scrollProgressValue.style.height = scrollPercentage + "%";
      //- 
      //-       //- let scrollBoxValue = document.querySelector(".scroll-box-value");
      //-       //-   scrollBoxValue.innerHTML = Math.round(scrollPercentage);
      //- 
      //-     });
      //-   }
      //- }
  
      
    
    (function($) {
      var headers;
      headers = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];
      $('.nav__mobile__pena').click(function(e) {
        var allAtDepth, depth, name, subItem, target;
        target = e.target;
        name = target.nodeName.toUpperCase();
        if ($.inArray(name, headers) > -1) {
          subItem = $(target).next();
          depth = $(subItem).parents().length;
          // allAtDepth = $('.accordion p, .accordion ul, .accordion div').filter(function() {
          allAtDepth = $('.accordion .a_content').filter(function() {
            if ($(this).parents().length >= depth && this !== subItem.get(0)) {
              return true;
            }
          });


          subItem.slideToggle('fast', function() {
            if($(target).hasClass( 'active' )) {
              $(target).removeClass('active');
              $(subItem).slideUp('fast', function() {
                  //$(target).removeClass('active');
                  // $('.accordion h2').removeClass('active');
                });
            } else {

              $(allAtDepth).slideUp('fast', function() {
                $('.accordion h4').removeClass('active');
                $(target).addClass('active');
                // $('html,body').animate({ scrollTop: $(target).offset().top - 100}, 'fast');
              });
            }
          });

          // $(allAtDepth).slideUp('fast', function() {
          //   //$(target).removeClass('active');
          //   // $('.accordion h2').removeClass('active');
          // });

          // $(target).css({
          //   'border-bottom-right-radius': '10',
          //   'border-bottom-left-radius': '10'
          // });
        }
      });
    })(jQuery);

  
    //- //- Hide Header on on scroll down
    //- var didScroll;
    //- var lastScrollTop = 0;
    //- var delta = 5;
    //- var navbarHeight = $('#menu__pena__nav__main_fixed').outerHeight();
    //- 
    //- console.log('navbarHeight: ' + navbarHeight);
    //- 
    //- $(window).scroll(function(event){
    //-   didScroll = true;
    //- });
    //- 
    //- setInterval(function() {
    //-   if (didScroll) {
    //-       hasScrolled();
    //-       didScroll = false;
    //-   }
    //- }, 250);
    //- 
    //- function hasScrolled() {
    //-   var st = $(this).scrollTop();
    //- 
    //-   //- Make sure they scroll more than delta
    //-   if(Math.abs(lastScrollTop - st) <= delta)
    //-       return;
    //- 
    //-   //- If they scrolled down and are past the navbar, add class .nav-up.
    //-   //- This is necessary so you never see what is "behind" the navbar.
    //-   if ( st > lastScrollTop && st > navbarHeight){
    //-       //- Scroll Down
    //-       $('#menu__pena__nav__main_fixed').removeClass('paxy').addClass('pqaxy');
    //-       console.log('Scroll Down');
    //-   } else {
    //-       //- Scroll Up
    //-       if(st + $(window).height() < $(document).height()) {
    //-         $('#menu__pena__nav__main_fixed').removeClass('pqaxy').addClass('paxy');
    //-       }
    //-     $('#menu__pena__nav__main_fixed').removeClass('pqaxy').addClass('paxy');
    //-   }
    //- 
    //-   lastScrollTop = st;
    //-   console.log(lastScrollTop);
    //- }
  
    //- if (document.getElementById("menu__pena__height")) {
  	//- 	var waypoint = new Waypoint({
    //-     element: document.body,
  	//- 	  handler: function(direction) {
    //-       var menu_small = '_0__poxya_118b_112_txav_mw1';
    //-       var menu_big = '_0__poxya_112b_110_txav_mw1';
    //-       $("#menu__pena__height").hasClass(menu_small) ?  $("#menu__pena__height").removeClass(menu_small).addClass(menu_big) : $("#menu__pena__height").removeClass(menu_big).addClass(menu_small);
  	//- 	    var logo_small = 'a_124b_118';
    //-       var logo_big = 'a_116b_116';
    //-       $("#logo__main").hasClass(logo_small) ?  $("#logo__main").removeClass(logo_small).addClass(logo_big) : $("#logo__main").removeClass(logo_big).addClass(logo_small);
  	//- 	  },
  	//- 		offset: -200
  	//- 	})
  	//- }
    //- 
    //- if (document.getElementById("menu__pena__nav__main_fixed__home")) {
    //-   //- console.log('home');
  	//- 	var waypoint = new Waypoint({
    //-     element: document.getElementById('hero'),
  	//- 	  handler: function(direction) {
    //-       var menu_small = 'pqaxy';
    //-       var menu_big = 'paxy';
    //-       $("#menu__pena__nav__main_fixed__home").hasClass(menu_small) ?  $("#menu__pena__nav__main_fixed__home").removeClass(menu_small).addClass(menu_big) : $("#menu__pena__nav__main_fixed__home").removeClass(menu_big).addClass(menu_small);
  	//- 	  },
    //-     offset: function() {
    //-       return -this.element.clientHeight
    //-     }
  	//- 	})
  	//- }
    
  });
})(jQuery);


(function() {
  function a(b, c) {
    return b === document ? !1 : classie.has(b, c) ? !0 : b.parentNode && a(b.parentNode, c)
  }
  function b() {
    var a = !1;
    return function(b) {
      (/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0, 4))) && (a = !0)
    }(navigator.userAgent || navigator.vendor || window.opera), a
  }

  function c() {
    var c = document.getElementById("menu__pena__menu_wrapper"),
      d = Array.prototype.slice.call(document.querySelectorAll("#menu__pena__menu_wrapper > button")),
      e = b() ? "touchstart" : "click",
      f = function() {
        classie.remove(c, "menu-open");

        var bodyElement = document.getElementsByTagName("body")[0];
        bodyElement.style.overflow='';
        bodyElement.style.top='0vh';

        if (document.getElementById("menu__pena__menu__cover_slide")) {
          var coverElement = document.getElementById("menu__pena__menu__cover_slide");
          coverElement.style.height='0vh';
        }

        if (document.getElementById("menu__pena__section__hero")) {
          var heroElement = document.getElementById("menu__pena__section__hero");
          heroElement.style.height='';
        }

        jQuery('body').removeClass('lightbox-active');
        var htmlElement = document.getElementsByTagName("html")[0];
        scrollD = htmlElement.style.top;
        scrollD = Math.abs(parseFloat(scrollD, 10));

        htmlElement.style.top=null;
        htmlElement.style.overflow=null;
        htmlElement.style.position=null;

        // window.scroll(scrollD, 0);

        // scrollTest(scrollD);
        window.scrollTo(0, scrollD);
        console.log( scrollD );


        // document.getElementById('poxyLightboxLoader').innerHTML = "";
      },
      g = function(b) {
        a(b.target, "st-menu") || (f(), document.removeEventListener(e, g))
      };
    d.forEach(function(a, b) {
      var d = a.getAttribute("data-effect");
      a.addEventListener(e, function(a) {
        a.stopPropagation(), a.preventDefault(), c.className = "menu_wrapper", classie.add(c, d), setTimeout(function() {
          classie.add(c, "menu-open");

          var elmTop = jQuery(document).scrollTop();
          console.log( 'htmlTop ' +  screenTop);
          var htmlElement = document.getElementsByTagName("html")[0];
          htmlElement.style.top='-' + elmTop + 'px';
          htmlElement.style.overflow='hidden';
          htmlElement.style.position='fixed';
          console.log( elmTop );


          jQuery('body').addClass('lightbox-active');


          if (document.getElementById("menu__pena__menu__cover_slide")) {

            var coverElement = document.getElementById("menu__pena__menu__cover_slide");
            var bodyElement = document.getElementsByTagName("body")[0];

            if(coverElement.classList.contains('active')) {

              coverElement.style.height='100vh';

              bodyElement.style.overflow='hidden';
              bodyElement.style.top='100vh';

            } else {

              if (document.getElementById("section__hero")) {
                var heroElement = document.getElementById("section__hero");
                heroElement.style.height='100vh';
              }


            }
          }

        }, 25), document.addEventListener(e, g)
      })
    })
  }
  c()
})(jQuery);



var pena__accordion = (function ($) {
  var $accordion = $('.js-pena__accordion');
  var $accordion_header = $accordion.find('.js-pena__accordion-header');
  var $accordion_item = $('.js-pena__accordion-item');

  //- default settings 
  var settings = {
    //- animation speed
    speed: 400,
    //- close all other accordion items if true
    oneOpen: false
  };

  return {
    //- pass configurable object literal
    init: function ($settings) {
      $accordion_header.on('click', function () {
        pena__accordion.toggle($(this));
      });

      $.extend(settings, $settings);
      //- ensure only one accordion is active if oneOpen is true
      if (settings.oneOpen && $('.js-pena__accordion-item.active__accordion').length > 1) {
        $('.js-pena__accordion-item.active__accordion:not(:first)').removeClass('active__accordion');
      }

      //- reveal the active accordion bodies
      $('.js-pena__accordion-item.active__accordion').find('> .js-pena__accordion-body').show();
    },
    toggle: function ($this) {

      if (settings.oneOpen && $this[0] != $this.closest('.js-pena__accordion').find('> .js-pena__accordion-item.active__accordion > .js-pena__accordion-header')[0]) {
        $this.closest('.js-pena__accordion')
          .find('> .js-pena__accordion-item')
          .removeClass('active__accordion')
          .find('.js-pena__accordion-body')
          .slideUp()
      }
      //- show/hide the clicked accordion item
      $this.closest('.js-pena__accordion-item').toggleClass('active__accordion');
      $this.next().stop().slideToggle(settings.speed);
    }
  }
})(jQuery);

$(document).ready(function () {
  pena__accordion.init({
    speed: 200,
    oneOpen: true
  });
});





jQuery(document).ready(function() {
  (function($){
    console.log('parallax');
    if (navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)) {
      $('#ios-notice').removeClass('hidden');
      $('.parallax-container').height($(window).height() * 0.5 | 0);
    } else {
      $(window).resize(function () {
        var parallaxHeight = Math.max($(window).height() * 0.7, 200) | 0;
        $('.parallax-container').height(parallaxHeight);
      }).trigger('resize');
    }
  })(jQuery);
});







$(document).ready(function () {

  (function ($) {
    function reset_pulse_buttons() {
      var continuousElements = document.getElementsByClassName('part__button__3');  
      if(continuousElements) {
      	for (var i = 0; i < continuousElements.length; i++) {
          continuousElements[i].getElementsByClassName('part__button__3__c1')[0].setAttribute("style", "");
          continuousElements[i].getElementsByClassName('part__button__3__c2')[0].setAttribute("style", "");
          //- if( i == continuousElements.length) {
          //- 
          //-   console.log('init_pulse_buttons');
          //- 
          //-   setTimeout(function(){
          //-     init_pulse_buttons();
          //-     console.log('init_pulse_buttons');
          //-   }, 3000);
          //- }
        }
        setTimeout(function(){
          init_pulse_buttons();
          console.log('init_pulse_buttons');
        }, 3000);
      }
    }
    
    function init_pulse_buttons() {
      var continuousElements = document.getElementsByClassName('part__button__3');
      if(continuousElements) {
        //- console.log(continuousElements);
      	for (var i = 0; i < continuousElements.length; i++) {
          var c = i;
          //- console.log(c);
          //- console.log(continuousElements[i]);
          
          TweenMax.to(continuousElements[i].getElementsByClassName('part__button__3__c1'), 1, {scaleX:1.1, scaleY:1.1, repeat:-1, yoyo:true});
          TweenMax.to(continuousElements[i].getElementsByClassName('part__button__3__c1'), 1, {opacity:.3, repeat:-1, yoyo:true});
          TweenMax.to(continuousElements[i].getElementsByClassName('part__button__3__c2'), 1, {ease: 'Strong.ease', scaleX:1.1, scaleY:1.1, repeat:-1, yoyo:true});
          TweenMax.to(continuousElements[i].getElementsByClassName('part__button__3__c2'), 1, {ease: 'Strong.ease', opacity:.3, repeat:-1, yoyo:true});
          
          
      	  //- new Waypoint({
      	  //-   element: continuousElements[i],
      	  //-   handler: function() {
          //-     TweenMax.to(this.element.getElementsByClassName('part__button__3__c1'), 1, {scaleX:1.1, scaleY:1.1, repeat:-1, yoyo:true});
          //-     TweenMax.to(this.element.getElementsByClassName('part__button__3__c1'), 1, {opacity:.3, repeat:-1, yoyo:true});
          //-     TweenMax.to(this.element.getElementsByClassName('part__button__3__c2'), 1, {ease: 'Strong.ease', scaleX:1.1, scaleY:1.1, repeat:-1, yoyo:true});
          //-     TweenMax.to(this.element.getElementsByClassName('part__button__3__c2'), 1, {ease: 'Strong.ease', opacity:.3, repeat:-1, yoyo:true});
          //- 
          //-     //- TweenMax.to(this.element, .2,{ ease: 'Strong.ease', css:{opacity:1} })
          //-     //- TweenMax.to(this.element, .5,{ y:'0%', delay: 0.0, ease: 'Strong.ease' })
      		//- 		this.destroy();
          //-     console.log('part__button__3');
      	  //-   },
          //-   offset: 'top-in-view',
          //-   continuous: true
      	  //- })
          
          
      	}
      }
    }
    
    //- $(window).resize(function(){
    //-   TweenMax.killAll();
    //-   setTimeout(function(){
    //-     reset_pulse_buttons();
    //-   }, 1000);
    //-   //- init_pulse_buttons();
    //- });
    
    init_pulse_buttons();


  })(jQuery);
  
});
































































jQuery(document).ready(function() {
  (function($){
  
  
    if (document.getElementById("section__home__slides")) {
      
      var body = document.getElementsByTagName("BODY")[0];
      var context = body.classList.contains('global__interactive__parallax') ? document.getElementById('wrapper') : window;
      
      var offset = $('#section__home__slides__nav').height();
      offset = 0;
      var sticky = new Waypoint.Sticky({
        element: $('#section__home__slides__nav'),
        context: context,
        offset: offset
      })
      console.log('stick nav');
      
    }

    
  })(jQuery);
});





















$(document).ready(function () {

  (function ($) {
    
    if ($('.lightbox__open')[0]) {
    
      function isNumeric(n) {
        return !isNaN(parseFloat(n)) && isFinite(n);
      }

      var body = document.getElementsByTagName('body');
      var section__lightbox = document.getElementById('section__lightbox');
      var section__lightbox__close = document.getElementById('section__lightbox__close');


      //- OPEN LIGHTBOX
      var buttons = document.querySelectorAll(".lightbox__open");

      for (var i = 0, len = buttons.length; i < len; i++) {
        buttons[i].onclick = function (e){
            
          
          e.preventDefault();
          //- console.log('open light box.');
          document.getElementById('section__lightbox').classList.add("active");
          
          var image_url = this.getAttribute('data-image');
          var video_id = this.getAttribute('data-video');
          var lightbox_loader = document.getElementById('poxyLightboxLoader');
          
          if(video_id != null) {
            //- lightbox_loader.innerHTML +='<iframe id="player1" style="width: 100%; height: 100%;" src="https://www.youtube.com/embed/' + video_id + '?autoplay=1" frameborder="0" class="paxy xv80 xv_80"></iframe>';
            
            //- lightbox_loader.innerHTML +='<script src="https://fast.wistia.com/embed/medias/1aihxm2vsj.jsonp" async></script><script src="https://fast.wistia.com/assets/external/E-v1.js" async></script><div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><div class="wistia_embed wistia_async_1aihxm2vsj videoFoam=true" style="height:100%;position:relative;width:100%"><div class="wistia_swatch" style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;"><img src="https://fast.wistia.com/embed/medias/1aihxm2vsj/swatch" style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" onload="this.parentNode.style.opacity=1;" /></div></div></div></div>';
            
            //- console.log('API Ready?');
            //- window.YT = window.YT || {};
            //- if (typeof window.YT.Player === 'function') {
            //-   player = new YT.Player('poxyLightboxLoader', {
            //-     videoId: 'xKeAY2QzEPo', // YouTube Video ID
            //-     playerVars: {
            //-       autoplay: 1,        // Auto-play the video on load
            //-       controls: 1,        // Show pause/play buttons in player
            //-       showinfo: 0,        // Hide the video title
            //-       modestbranding: 1,  // Hide the Youtube Logo
            //-       loop: 1,            // Run the video in a loop
            //-       fs: 0,              // Hide the full screen button
            //-       cc_load_policy: 0, // Hide closed captions
            //-       iv_load_policy: 3,  // Hide the Video Annotations
            //-       autohide: 0,         // Hide video controls when playing
            //-       playlist: 'xKeAY2QzEPo'
            //-     },
            //-     events: {
            //-       onReady: function(e) {
            //-         e.target.play();
            //-       }
            //-     }
            //-   });
            //- }
            
            lightbox_loader.innerHTML +='<iframe id="player1" class="xv80 xv_80" allow="autoplay; encrypted-media" width="800" height="600" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" src="https://player.vimeo.com/video/' + video_id + '"></iframe>';
            
          } else {
            lightbox_loader.innerHTML +='<img class="dib" style="width:100%; height:auto;" src="' + image_url + '" />';
          }




          //- STOP PAGE SCROLL
          var elmTop = jQuery(document).scrollTop();
          //- console.log( 'htmlTop ' +  screenTop);
          var htmlElement = document.getElementsByTagName("html")[0];
          htmlElement.style.top='-' + elmTop + 'px';
          htmlElement.style.overflow='visible';
          htmlElement.style.position='fixed';
          //- console.log( elmTop );
          
          
          
        

          //- jQuery('body').addClass('lightbox-active');
          var bodyElement = document.getElementsByTagName("body")[0];
          bodyElement.style.height='100vh';
          bodyElement.style.maxHeight='100vh';
          bodyElement.style.overflow='hidden';
                  
          var player = new Vimeo.Player(document.getElementById('player1'));
      
          player.on('play', function(){
              player.off('play')
              player.ready().then(function() {
                player.setAutopause(false).then(function(autopause) {
                  // wait 1 second then play  
                  setTimeout(play2,1000);
                });
              }); 
          });
          
          function play2(){
            player.play();
            console.log('play2');
          }
          
          player.play();

        }
      }


      //- CLOSE LIGHTBOX
      document.getElementById('section__lightbox__close__wrapper').onclick = function (e) {
        e.preventDefault();
        document.getElementById('section__lightbox').classList.remove("active");
        
        var section__lightbox__close__wrapper = document.getElementById('section__lightbox__close__wrapper');
        section__lightbox__close__wrapper.innerHTML ='<div id="poxyLightboxLoader" class="caxy ofs mc xv80 xv_80 rel"></div>';
          
        //- var lightbox_loader = document.getElementById('poxyLightboxLoader');
        //- lightbox_loader.innerHTML ='';




        //- BODY
        var bodyElement = document.getElementsByTagName("body")[0];
        bodyElement.style.height='';
        bodyElement.style.maxHeight='';
        bodyElement.style.overflow='';

        //- HTML
        var htmlElement = document.getElementsByTagName("html")[0];
        var scrollD = htmlElement.style.top;
        scrollD = Math.abs(parseFloat(scrollD, 10));
        htmlElement.style.top=null;
        htmlElement.style.overflow=null;
        htmlElement.style.position=null;
        window.scrollTo(0, scrollD);


        //- window.scroll(scrollD, 0);

        // scrollTest(scrollD);
        //- scrollD = htmlElement.style.top;
        //- scrollD = Math.abs(parseFloat(scrollD, 10));
        //- window.scrollTo(0, scrollD);
        //- console.log( scrollD );

      }
    }
  })(jQuery);
});













jQuery(document).ready(function() {

  (function($){
    if (document.getElementById("vmap")) {
      //- console.log('starting vmap...');
      loadBigMap();
    }
  })(jQuery);

});
















































//- jQuery(window).load(function(){
//-   jQuery("#section__vision__nav").sticky({ topSpacing: 0, center:true, className:"hey" });
//-   console.log('stick');
//- });

jQuery(document).ready(function() {
  (function($){
  
    var body = document.getElementsByTagName("BODY")[0];
    if(!body.classList.contains('global__interactive__parallax') ) {
      if (document.getElementById("section__vision__nav")) {
        var offset = $('#menu__pena__nav__main_fixed').height();
        offset = (offset * 1.5);
        var sticky = new Waypoint.Sticky({
          element: $('#section__vision__nav'),
          offset: offset
        })
        console.log('stick wp');
      }
    } else {
      if (document.getElementById("section__vision__nav")) {
        var offset = $('#menu__pena__nav__main_fixed').height();
        offset = (offset * 1.5);
        var sticky = new Waypoint.Sticky({
          element: $('#section__vision__nav'),
          context: document.getElementById('wrapper'),
          offset: offset
        })
        console.log('stick wp');
      }
    }
    
  })(jQuery);
});


//- jQuery(document).ready(function() {
//-   (function($){
//-     if (document.getElementById("section__vision__nav")) {
//-       var nav = document.getElementById("section__vision__nav");
//-       var scroll_buttons = nav.getElementsByTagName("button");
//- 
//-       for (var i = 0, len = scroll_buttons.length; i < len; i++) {
//-         scroll_buttons[i].onclick = function (e) {
//-           e.preventDefault();
//-           var element = this.getAttribute('data-scroll');
//-           console.log(element);
//-           console.log($('#' + element ).offset().top);
//-           //- var qString = '#' + element;
//-           //- if (history.pushState) {
//-           //-   var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + qString;
//-           //-   window.history.pushState({path:newurl},'',newurl);
//-           //- }
//- 
//-           $('html, body').animate({
//-             scrollTop: $('#' + element ).offset().top
//-           }, 2000);
//- 
//-           //- $(window).scrollTop( $('#' + element).offset().top );
//-           //- 
//-           //- $('html, body').animate({
//-           //-     scrollTop: $('#' + element).offset().top - 70
//-           //- }, 800, function() {
//-           //- });
//- 
//-         }
//-       }
//- 
//-     }
//-   })(jQuery);
//- });










